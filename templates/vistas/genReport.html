{% extends 'baseCuenta.html' %}
{% load static %}

{% block titulo %}
    Generar Reporte
{% endblock titulo %}

{% block contenido %}
<style>
    table, th, td{
        border: 2px solid black;
        font-size: 36px;
        color: black;
    }
    input, textarea{
        font-size: 24px;
    }
    input.text{
        width: 100%;
    }
    input.fechahora{
        content: center;
    }
    input.check{
        width: 25px;
        height: 25px;
    }
    input.file{
        height: 100px;
    }
    textarea{
        width: 100%;
        text-align: center;
    }
    table{
        background-color: black;
        width: 100%;
    }
    th{
        background-color: gray;
    }
    td {
        background-color: gainsboro;
    }
</style>
<form action="{% url 'reportesMaqman:genReport' %}" method="POST"> {% csrf_token %}
    <table>
        <h1>Generar Reporte</h1>
        <th colspan="4">Control de Equipos</th>
        <tr>
            <td>Cliente:</td>
            <td colspan="3">{{ form.cliente }}</td>
        </tr>
        <tr>
            <td>Obra:</td>
            <td colspan="3">{{ form.obra }}</td>
        </tr>
        <tr>
            <td>Fecha:</td>
            <td>{{ form.fecha }}</td>
            <td colspan="2">Operador: <input type="text" name="nombre_usuario" value="{{ user.p_id_persona.nombres }} {{ user.p_id_persona.apellido_paterno }} {{ user.p_id_persona.apellido_materno }}" style="width: 100%;" readonly></td>
            <input type="hidden" name="p_id_persona"  value="{{ user.p_id_persona.id_persona }}">
        </tr>
        <th colspan="4">Horómetro</th>
        <tr>
            <td>Hora Ingreso:</td>
            <td>{{ form.hora_ingreso }}</td>
            <td>Horómetro Inicial:</td>
            <td>{{ form.horometro_inicial }}</td>
        </tr>
        <tr>
            <td>Hora Término:</td>
            <td>{{ form.hora_termino }}</td>
            <td>Horómetro Final:</td>
            <td>{{ form.horometro_final }}</td>
        </tr>
        <tr>
            <td>N° Horas Arriendo:</td>
            <td>{{ form.horas_arriendo }}</td>
            <td>Horómetro Total:</td>
            <td>{{ form.horometro_total }}</td>
        </tr>
        <tr>
            <td>Equipo N°:</td>
            <td>{{ form.equipo_numero }}</td>
            <td>Hora Mínima:</td>
            <td>{{ form.hora_minima }}</td>
        </tr>
        <th colspan="4">Accesorios</th>
        {% for a in accesorios %}
            
            {% if a.id_accesorio == 1 or a.id_accesorio == 3 %}
            <tr>
                <td colspan="2"><input class="check" type="checkbox" name="accesorios" id="accesorio_{{ a.id_accesorio }}" value="{{ a.id_accesorio }}">{{ a.accesorio_minicargador }}</td>
            {% else %}
                <td colspan="2"><input class="check" type="checkbox" name="accesorios" id="accesorio_{{ a.id_accesorio }}" value="{{ a.id_accesorio }}">{{ a.accesorio_minicargador }}</td>
            </tr>
            {% endif %}
            
        {% endfor %}
            
        <th colspan="4">Observaciones</th>
        <tr>
            <td colspan="4">{{ form.observaciones }}</td>
        </tr>
    </table>
    <table>
        <tr>
            <td><input class="file" type="file" name="img_maquinaria" id="id_img_maquinaria" value="null"></td>
            <td><input class="file" type="file" name="img_report" id="id_img_report"></td>
            <td><button type="submit">Mandar Reporte</button></td>
        </tr>
    </table>
</form>
<script>

</script>

{% endblock contenido %}